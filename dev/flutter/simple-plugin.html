<!DOCTYPE html>
<html lang="th-TH">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>เขียน Native มาใช้บน Flutter | Intception Hideout</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="บางครั้งเราอาจจะต้องเขียน Plugin ที่ยืมความสามารถของ Native ขึ้นมาใช้เองถ้าไม่มีคนเขียนไว้ให้">
    <meta name="image" content="https://blog.intception.me/flutter/simple-plugin.jpg">
    <meta name="twitter:title" content="เขียน Native มาใช้บน Flutter">
    <meta name="twitter:description" content="บางครั้งเราอาจจะต้องเขียน Plugin ที่ยืมความสามารถของ Native ขึ้นมาใช้เองถ้าไม่มีคนเขียนไว้ให้">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://blog.intception.me/flutter/simple-plugin.jpg">
    <meta name="twitter:url" content="https://blog.intception.me/dev/flutter/simple-plugin.html">
    <meta property="og:type" content="article">
    <meta property="og:title" content="เขียน Native มาใช้บน Flutter">
    <meta property="og:description" content="บางครั้งเราอาจจะต้องเขียน Plugin ที่ยืมความสามารถของ Native ขึ้นมาใช้เองถ้าไม่มีคนเขียนไว้ให้">
    <meta property="og:image" content="https://blog.intception.me/flutter/simple-plugin.jpg">
    <meta property="og:url" content="https://blog.intception.me/dev/flutter/simple-plugin.html">
    <meta property="og:site_name" content="Intception Hideout">
    <meta property="article:author" content="https://www.facebook.com/100002134179036">
    <meta property="article:published_time" content="August 30, 2019 00:31:00">
    <meta property="article:tag" content="dev">
    <meta itemprop="name" content="เขียน Native มาใช้บน Flutter">
    <meta itemprop="description" content="บางครั้งเราอาจจะต้องเขียน Plugin ที่ยืมความสามารถของ Native ขึ้นมาใช้เองถ้าไม่มีคนเขียนไว้ให้">
    <meta itemprop="image" content="https://blog.intception.me/flutter/simple-plugin.jpg">
    <meta property="fb:app_id" content="378991759371355">
    <meta property="article:publisher" content="https://www.facebook.com/intception">
    
    <link rel="preload" href="/assets/css/0.styles.9fcaea78.css" as="style"><link rel="preload" href="/assets/js/app.e8816fbe.js" as="script"><link rel="preload" href="/assets/js/23.98f77880.js" as="script"><link rel="preload" href="/assets/js/2.5511de28.js" as="script"><link rel="preload" href="/assets/js/10.93173d2d.js" as="script"><link rel="preload" href="/assets/js/30.ceffa3ae.js" as="script"><link rel="preload" href="/assets/js/29.6bb21054.js" as="script"><link rel="preload" href="/assets/js/41.a1cbfaa2.js" as="script"><link rel="prefetch" href="/assets/js/1.7038105b.js"><link rel="prefetch" href="/assets/js/11.0f9c5f1c.js"><link rel="prefetch" href="/assets/js/12.91b64e47.js"><link rel="prefetch" href="/assets/js/13.08a3a51f.js"><link rel="prefetch" href="/assets/js/14.c8e0a547.js"><link rel="prefetch" href="/assets/js/15.43c6b249.js"><link rel="prefetch" href="/assets/js/16.99ef011c.js"><link rel="prefetch" href="/assets/js/17.b660276a.js"><link rel="prefetch" href="/assets/js/18.7c32fc21.js"><link rel="prefetch" href="/assets/js/19.3aa4ded7.js"><link rel="prefetch" href="/assets/js/20.f9256596.js"><link rel="prefetch" href="/assets/js/21.4dd2eea6.js"><link rel="prefetch" href="/assets/js/22.bebac973.js"><link rel="prefetch" href="/assets/js/24.97336265.js"><link rel="prefetch" href="/assets/js/25.c15aed46.js"><link rel="prefetch" href="/assets/js/26.cdb80987.js"><link rel="prefetch" href="/assets/js/27.061d534a.js"><link rel="prefetch" href="/assets/js/28.a7dedf0a.js"><link rel="prefetch" href="/assets/js/31.4cee5970.js"><link rel="prefetch" href="/assets/js/32.958c025c.js"><link rel="prefetch" href="/assets/js/33.1baa13ba.js"><link rel="prefetch" href="/assets/js/34.d9701686.js"><link rel="prefetch" href="/assets/js/35.25566597.js"><link rel="prefetch" href="/assets/js/36.455eb1cd.js"><link rel="prefetch" href="/assets/js/37.f9701788.js"><link rel="prefetch" href="/assets/js/38.7adbe429.js"><link rel="prefetch" href="/assets/js/39.0e42479f.js"><link rel="prefetch" href="/assets/js/4.d70afffc.js"><link rel="prefetch" href="/assets/js/40.6427dc18.js"><link rel="prefetch" href="/assets/js/42.a1b17ae6.js"><link rel="prefetch" href="/assets/js/43.b629483d.js"><link rel="prefetch" href="/assets/js/44.3ce67008.js"><link rel="prefetch" href="/assets/js/45.58b17ad5.js"><link rel="prefetch" href="/assets/js/46.68e3b49f.js"><link rel="prefetch" href="/assets/js/47.72e2cea9.js"><link rel="prefetch" href="/assets/js/48.2928f898.js"><link rel="prefetch" href="/assets/js/49.94a83419.js"><link rel="prefetch" href="/assets/js/5.dbd44f85.js"><link rel="prefetch" href="/assets/js/6.2ecdc96d.js"><link rel="prefetch" href="/assets/js/7.1abc7760.js"><link rel="prefetch" href="/assets/js/8.47b30f38.js"><link rel="prefetch" href="/assets/js/9.3d2ae7fe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9fcaea78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-v-500e1d8c><div class="theme-container" data-v-500e1d8c><header class="navbar" data-v-500e1d8c><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Intception Hideout" class="logo"> <span class="site-name can-hide">Intception Hideout</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">Dev</a></div><div class="nav-item"><a href="/lifestyle/" class="nav-link">Lifestyle</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-500e1d8c></div> <aside class="sidebar" data-v-500e1d8c><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">Dev</a></div><div class="nav-item"><a href="/lifestyle/" class="nav-link">Lifestyle</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>เขียน Native มาใช้บน Flutter</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/flutter/simple-plugin.html#เตรียมความพร้อมสิ่งที่ควรมี" class="sidebar-link">เตรียมความพร้อมสิ่งที่ควรมี</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/dev/flutter/simple-plugin.html#พื้นฐานของ-plugin-ใน-flutter" class="sidebar-link">พื้นฐานของ Plugin ใน Flutter</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/dev/flutter/simple-plugin.html#สร้างโปรเจค-flutter-plugin" class="sidebar-link">สร้างโปรเจค Flutter Plugin</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/dev/flutter/simple-plugin.html#เริ่มเขียน-plugin" class="sidebar-link">เริ่มเขียน Plugin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/flutter/simple-plugin.html#ฝั่ง-flutter" class="sidebar-link">ฝั่ง Flutter</a></li><li class="sidebar-sub-header"><a href="/dev/flutter/simple-plugin.html#ฝั่ง-native" class="sidebar-link">ฝั่ง Native</a></li><li class="sidebar-sub-header"><a href="/dev/flutter/simple-plugin.html#แต่ๆๆ" class="sidebar-link">แต่ๆๆ</a></li></ul></li><li><a href="/dev/flutter/simple-plugin.html#เอา-plugin-มาใช้งานจริง" class="sidebar-link">เอา Plugin มาใช้งานจริง</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/dev/flutter/simple-plugin.html#สรุป" class="sidebar-link">สรุป</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page" data-v-500e1d8c> <div class="theme-default-content content__default"><h1 id="เขียน-native-มาใช้บน-flutter"><a href="#เขียน-native-มาใช้บน-flutter" class="header-anchor">#</a> เขียน Native มาใช้บน Flutter</h1> <span data-v-11962d9e><a href="/?tag=dev" class="tag-element" data-v-eeb2ca7e data-v-11962d9e>#Dev</a><a href="/?tag=flutter" class="tag-element" data-v-eeb2ca7e data-v-11962d9e>#Flutter</a><a href="/?tag=plugin" class="tag-element" data-v-eeb2ca7e data-v-11962d9e>#Plugin</a></span> <p>บางครั้งเราอาจจะต้องเขียน Plugin ที่ยืมความสามารถของ Native ขึ้นมาใช้เองถ้าไม่มีคนเขียนไว้ให้ ซึ่งแน่นอนว่าการจะเขียนได้นั้นต้องพอมีความรู้ในการเขียน Native สักนิดสักหน่อย ไม่ว่าจะเป็นภาษา Kotlin (Android) หรือ Swift (iOS) ซึ่งผมพอเข้าใจ Kotlin บ้างเล็กน้อย...ส่วน Swift นี่ไม่รู้เรื่องเลย 🤣<br>
ในบทความนี้จะสอนวิธีเขียนตั้งแต่ต้น และพยายามอธิบายให้เข้าใจเขียนเองได้ครับ</p> <img src="/assets/img/00.fe983cfa.jpg" alt="Header"><h2 id="เตรียมความพร้อมสิ่งที่ควรมี"><a href="#เตรียมความพร้อมสิ่งที่ควรมี" class="header-anchor">#</a> เตรียมความพร้อมสิ่งที่ควรมี</h2> <ol><li>Android Studio ที่ติดตั้ง Flutter Plugin แล้ว</li> <li>Visual Studio Code ที่ติดตั้ง Flutter Plugin แล้ว</li></ol> <h2 id="พื้นฐานของ-plugin-ใน-flutter"><a href="#พื้นฐานของ-plugin-ใน-flutter" class="header-anchor">#</a> พื้นฐานของ Plugin ใน Flutter</h2> <p>หลักการแบบสั้นๆก็คือ เราจะทำการเปิดช่องให้ Flutter และ Native คุยกันผ่าน <strong>MethodChannel</strong></p> <center class="medium-zoom"><div class="force-max"><img src="/assets/img/00-1.e77d55b2.png" alt="Title"></div> <div class="caption">รูปจาก Flutter Official</div></center> <h2 id="สร้างโปรเจค-flutter-plugin"><a href="#สร้างโปรเจค-flutter-plugin" class="header-anchor">#</a> สร้างโปรเจค Flutter Plugin</h2> <p>เปิด Android Studio ขึ้นมาแล้วกดสร้างโปรเจค Flutter</p> <center class="medium-zoom"><div class="force-max"><img src="data:image/png;base64,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" alt="Title"></div> <div class="caption">สร้างโปรเจค Flutter</div></center> <p>เลือกสร้าง Flutter Plugin</p> <center class="medium-zoom"><div class="force-max"><img src="/assets/img/02.bee09c30.png" alt="Title"></div></center> <p>ในที่นี้ผมจะทำ Plugin เรียกใช้ Toast (เป็น Alert เล็กๆ...เพื่อใครไม่รู้)</p> <center class="medium-zoom"><div class="force-max"><img src="data:image/png;base64,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" alt="Title"></div> <div class="caption">ชื่อโปรเจคก็ตั้งง่ายๆแบบนี้ล่ะ</div></center> <p>ที่สำคัญคืออย่าลืมติ๊ก Kotlin เพราะเราจะเขียนด้วย Kotlin เสร็จแล้วก็ Finish ได้เลยครับ</p> <center class="medium-zoom"><div class="force-max"><img src="/assets/img/04.8e75d43e.png" alt="Title"></div></center> <p>คลิกเลือกไฟล์ <code>main.dart</code> แล้วลองรันดู จะต้องได้โปรแกรมหน้าตาตามนี้</p> <center class="medium-zoom"><div class="force-max"><img src="/assets/img/05.0ef5de63.png" alt="Title"></div></center> <center class="medium-zoom"><div class="force-max" style="max-width:50%;"><img src="/assets/img/06.0f6799b1.png" alt="Title"></div></center> <h2 id="เริ่มเขียน-plugin"><a href="#เริ่มเขียน-plugin" class="header-anchor">#</a> เริ่มเขียน Plugin</h2> <p>ไฟล์ที่เราสนใจจะมี <code>lib/toast.dart</code> ที่เป็นไฟล์ของ Plugin ในฝั่ง Flutter แล้วก็ไฟล์ <code>android/src/main/.../ToastPlugin.kt</code> เป็นไฟล์ Plugin ในฝั่ง Native Android แล้วก็ไฟล์ <code>example/lib/main.dart</code> ที่เป็นไฟล์สำหรับใช้เขียนตัวอย่างการใช้งานของ Plugin ของเรา ส่วนไฟล์ <code>test/toast_test.dart</code> เป็นไฟล์ทำ Testing ก็เอาเท่าที่สะดวกเลยครับ 🤣</p> <h3 id="ฝั่ง-flutter"><a href="#ฝั่ง-flutter" class="header-anchor">#</a> ฝั่ง Flutter</h3> <p><code>lib/toast.dart</code></p> <div class="language-dart extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'package:flutter/services.dart'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Toast</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> MethodChannel _channel <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span><span class="token string">'toast'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> Future<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token keyword">get</span> platformVersion <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> String version <span class="token operator">=</span> <span class="token keyword">await</span> _channel<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string">'getPlatformVersion'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> version<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>จากไฟล์ข้างต้นเราจะเห็นว่ามีการสร้าง <strong>MethodChannel</strong> ขึ้นมา คิดเสียว่าเป็นท่อท่อหนึ่งที่จะต่อไปยังฝั่ง Native</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">static</span> <span class="token keyword">const</span> MethodChannel _channel <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span><span class="token string">'toast'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>และ การเรียกใช้ getter <code>platformVersion</code> นั้นจะไปสั่ง <code>_channel.invokeMethod('getPlatformVersion')</code> เพื่อเรียกคำสั่ง <code>getPlatformVersion</code> ในฝั่ง Native</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">static</span> Future<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token keyword">get</span> platformVersion <span class="token keyword">async</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> String version <span class="token operator">=</span> <span class="token keyword">await</span> _channel<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string">'getPlatformVersion'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ฟังก์ชัน .invokeMethod คืนค่าเป็น Future เราต้องใส่ await ด้วย</span>
  <span class="token keyword">return</span> version<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>เวลาเราจะใช้งานก็ง่ายๆเลยเพราะ getter ที่สร้างมาก็เป็น static แล้วเราเพียงแค่</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">var</span> someVar <span class="token operator">=</span> <span class="token keyword">await</span> Toast<span class="token punctuation">.</span>platformVersion<span class="token punctuation">;</span> <span class="token comment">// platformVersion คืนค่าเป็น Future เราต้องใส่ await ด้วย</span>
</code></pre></div><p>เมื่อเราเรียกใช้ <code>platformVersion</code> สิ่งที่เกิดขึ้นก็คือ Flutter จะสั่งคำสั่ง <code>getPlatformVersion</code> ผ่านท่อที่มีชื่อว่า <code>toast</code></p> <p>ผมเปลี่ยนใหม่ ลบ <code>platformVersion</code> ที่เขาให้มาแล้วจะสร้างฟังก์ชันสำหรับใช้ <strong>Toast</strong> กันครับ</p> <div class="language-dart extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'package:flutter/services.dart'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Toast</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> MethodChannel _channel <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span><span class="token string">'toast'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    _channel<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string">'callAwesomeToast'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>จากโค้ดไม่มีอะไรมาก เราแค่ต้องการสั่งคำสั่ง และการเรียก Toast ก็ไม่น่าจะต้องรับค่าอะไร return type จึงเป็น <code>Future&lt;void&gt;</code><br>
โค้ดฝั่ง Flutter มีแค่นี้ครับสั้นมาก 😎</p> <hr> <h3 id="ฝั่ง-native"><a href="#ฝั่ง-native" class="header-anchor">#</a> ฝั่ง Native</h3> <p>ทีนี้มาดูในฝั่ง Native กันบ้าง <code>android/src/main/.../ToastPlugin.kt</code> (ถ้ามัน Error อะไรก็ไม่ต้องไปสนใจมัน)</p> <div class="language-kotlin extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-kotlin"><code><span class="token keyword">package</span> me<span class="token punctuation">.</span>intception<span class="token punctuation">.</span>toast

<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodCall
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel<span class="token punctuation">.</span>MethodCallHandler
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel<span class="token punctuation">.</span>Result
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>PluginRegistry<span class="token punctuation">.</span>Registrar

<span class="token keyword">class</span> ToastPlugin<span class="token operator">:</span> MethodCallHandler <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token annotation builtin">@JvmStatic</span>
    <span class="token keyword">fun</span> <span class="token function">registerWith</span><span class="token punctuation">(</span>registrar<span class="token operator">:</span> Registrar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> channel <span class="token operator">=</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span>registrar<span class="token punctuation">.</span><span class="token function">messenger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">)</span>
      channel<span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span><span class="token punctuation">(</span><span class="token function">ToastPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onMethodCall</span><span class="token punctuation">(</span>call<span class="token operator">:</span> MethodCall<span class="token punctuation">,</span> result<span class="token operator">:</span> Result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>call<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">&quot;getPlatformVersion&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;Android <span class="token interpolation"><span class="token delimiter variable">${</span>android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>RELEASE<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">notImplemented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>registerWith</code> เป็นส่วนที่ Plugin จะต้องมี<br>
ซึ่งเมื่อเรารันโปรแกรม Flutter จะทำการเรียก <code>ToastPlugin.registerWith(...)</code> เสมอ</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
  <span class="token annotation builtin">@JvmStatic</span>
  <span class="token keyword">fun</span> <span class="token function">registerWith</span><span class="token punctuation">(</span>registrar<span class="token operator">:</span> Registrar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> channel <span class="token operator">=</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span>registrar<span class="token punctuation">.</span><span class="token function">messenger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">)</span>
    channel<span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span><span class="token punctuation">(</span><span class="token function">ToastPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>โดยฟังก์ชันนี้เราจะทำการเปิดท่อของทางฝั่ง Native (แน่นอนว่าชื่อต้องตรงกันกับฝั่ง Flutter)</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> channel <span class="token operator">=</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span>registrar<span class="token punctuation">.</span><span class="token function">messenger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>และทำการกำหนด <code>methodCallhandler</code> ที่รับ Parameter เป็น instance ที่มี <strong>interface</strong> <code>MethodCallHandler</code> ซึ่งก็คือตัวมันเอง (เราจะเขียนแยกเป็น Class อื่นก็ได้นะ)</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>channel<span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span><span class="token punctuation">(</span><span class="token function">ToastPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>และเมื่อเรา implements interface <code>MethodCallHandler</code> แล้วเราจะต้อง override <code>onMethodCall</code> ด้วย</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onMethodCall</span><span class="token punctuation">(</span>call<span class="token operator">:</span> MethodCall<span class="token punctuation">,</span> result<span class="token operator">:</span> Result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>call<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">&quot;getPlatformVersion&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;Android <span class="token interpolation"><span class="token delimiter variable">${</span>android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>RELEASE<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">.</span><span class="token function">notImplemented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>แก้โค้ดให้เรียกใช้ Toast ได้ตามนี้</p> <div class="language-kotlin extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-kotlin"><code><span class="token keyword">package</span> me<span class="token punctuation">.</span>intception<span class="token punctuation">.</span>toast

<span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>Toast  <span class="token comment">// เพิ่ม Lib สำหรับเรียก Toast</span>
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodCall
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel<span class="token punctuation">.</span>MethodCallHandler
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel<span class="token punctuation">.</span>Result
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>PluginRegistry<span class="token punctuation">.</span>Registrar

<span class="token keyword">class</span> <span class="token function">ToastPlugin</span><span class="token punctuation">(</span><span class="token keyword">var</span> registrar<span class="token operator">:</span> Registrar<span class="token punctuation">)</span><span class="token operator">:</span> MethodCallHandler <span class="token punctuation">{</span>  <span class="token comment">// เพิ่มให้ ToastPlugin รับค่า registrar ใน constructor</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token annotation builtin">@JvmStatic</span>
    <span class="token keyword">fun</span> <span class="token function">registerWith</span><span class="token punctuation">(</span>registrar<span class="token operator">:</span> Registrar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> channel <span class="token operator">=</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span>registrar<span class="token punctuation">.</span><span class="token function">messenger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">)</span>
      channel<span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span><span class="token punctuation">(</span><span class="token function">ToastPlugin</span><span class="token punctuation">(</span>registrar<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// สร้าง ToastPlugin พร้อมส่ง registrar</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onMethodCall</span><span class="token punctuation">(</span>call<span class="token operator">:</span> MethodCall<span class="token punctuation">,</span> result<span class="token operator">:</span> Result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>call<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">&quot;callAwesomeToast&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>registrar<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Its toast!&quot;</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LENGTH_LONG<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      result<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">notImplemented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ลองแก้ไฟล์ <code>example/lib/main.dart</code> ใหม่เป็น</p> <div class="language-dart extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'package:toast/toast.dart'</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token metadata symbol">@override</span>
  _MyAppState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_MyAppState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">_MyAppState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>MyApp<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token function">callMyToast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> Toast<span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata symbol">@override</span>
  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span>
      home<span class="token punctuation">:</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span>
          title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Plugin example app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token function">RaisedButton</span><span class="token punctuation">(</span>
            onPressed<span class="token punctuation">:</span> callMyToast<span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Toast'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>เมื่อรันแล้วลองกดปุ่มดูก็จะได้ตามภาพ</p> <center class="medium-zoom"><div class="force-max" style="max-width:50%;"><img src="/assets/img/07.178ca62b.png" alt="Title"></div></center> <h3 id="แต่ๆๆ"><a href="#แต่ๆๆ" class="header-anchor">#</a> แต่ๆๆ</h3> <p>แต่ยังไม่จบเพียงเท่านี้ เพราะ String ที่เราใส่มันยัง Hard Code อยู่เลย<br>
ผมจึงแก้ <code>lib/toast.dart</code></p> <div class="language-dart extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'package:flutter/services.dart'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Toast</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> MethodChannel _channel <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span><span class="token string">'toast'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token function">toast</span><span class="token punctuation">(</span>String text<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    _channel<span class="token punctuation">.</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token string">'callAwesomeToast'</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>android/src/main/.../ToastPlugin.kt</code></p> <div class="language-kotlin extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-kotlin"><code><span class="token keyword">package</span> me<span class="token punctuation">.</span>intception<span class="token punctuation">.</span>toast

<span class="token keyword">import</span> android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>Toast
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodCall
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel<span class="token punctuation">.</span>MethodCallHandler
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>MethodChannel<span class="token punctuation">.</span>Result
<span class="token keyword">import</span> io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span>PluginRegistry<span class="token punctuation">.</span>Registrar

<span class="token keyword">class</span> <span class="token function">ToastPlugin</span><span class="token punctuation">(</span><span class="token keyword">var</span> registrar<span class="token operator">:</span> Registrar<span class="token punctuation">)</span><span class="token operator">:</span> MethodCallHandler <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token annotation builtin">@JvmStatic</span>
    <span class="token keyword">fun</span> <span class="token function">registerWith</span><span class="token punctuation">(</span>registrar<span class="token operator">:</span> Registrar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> channel <span class="token operator">=</span> <span class="token function">MethodChannel</span><span class="token punctuation">(</span>registrar<span class="token punctuation">.</span><span class="token function">messenger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">)</span>
      channel<span class="token punctuation">.</span><span class="token function">setMethodCallHandler</span><span class="token punctuation">(</span><span class="token function">ToastPlugin</span><span class="token punctuation">(</span>registrar<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onMethodCall</span><span class="token punctuation">(</span>call<span class="token operator">:</span> MethodCall<span class="token punctuation">,</span> result<span class="token operator">:</span> Result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>call<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">&quot;callAwesomeToast&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> customText <span class="token operator">=</span> call<span class="token punctuation">.</span>arguments<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>registrar<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> customText<span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LENGTH_LONG<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      result<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">notImplemented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>example/lib/main.dart</code></p> <div class="language-dart extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'package:toast/toast.dart'</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token metadata symbol">@override</span>
  _MyAppState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_MyAppState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">_MyAppState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>MyApp<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token function">callMyToast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> Toast<span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">'This plugin is awesome!!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata symbol">@override</span>
  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span>
      home<span class="token punctuation">:</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span>
          title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Plugin example app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token function">RaisedButton</span><span class="token punctuation">(</span>
            onPressed<span class="token punctuation">:</span> callMyToast<span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Toast'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>หลังจากนั้นลองรันใหม่</p> <center class="medium-zoom"><div class="force-max" style="max-width:50%;"><img src="/assets/img/08.c7d3884f.png" alt="Title"></div></center> <h2 id="เอา-plugin-มาใช้งานจริง"><a href="#เอา-plugin-มาใช้งานจริง" class="header-anchor">#</a> เอา Plugin มาใช้งานจริง</h2> <p>ในโปรเจคที่เราต้องการใช้งานนั้น เราแค่เพิ่ม dependencies ในไฟล์ <code>pubspec.yaml</code> ก็ได้แล้วครับ</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">dependencies</span><span class="token punctuation">:</span>
  <span class="token key atrule">toast</span><span class="token punctuation">:</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./path/to/plugin/root
</code></pre></div><p>ดาวน์โหลด Source Code <a href="https://github.com/aliceblock/toast" target="_blank" rel="noopener noreferrer">ที่นี่<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="สรุป"><a href="#สรุป" class="header-anchor">#</a> สรุป</h2> <p>อาจจะงงๆหน่อยนะครับ แต่ลองทำความเข้าใจดูไม่ยากอย่างที่คิด สู้ๆครับ (บอกตัวเอง 🤣)<br>
ถ้าหากมีข้อสงสัยอะไรสามารถติดต่อผ่าน <a href="https://facebook.com/intception" target="_blank" rel="noopener noreferrer">Facebook Page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ของผมได้ครับ</p></div> <footer class="page-edit"><!----> <div data-href="https://blog.intception.me/dev/flutter/simple-plugin.html" data-width="100%" data-numposts="5" class="fb-comments" style="max-width:99%;"></div> <div class="last-updated"><span class="prefix">อัปเดตเมื่อ: </span> <span class="time">1 ปีที่แล้ว</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/dev/flutter/platform-view.html">
          ใช้ PlatformView แสดง Native View บน Flutter
        </a>
        →
      </span></p></div> </main></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e8816fbe.js" defer></script><script src="/assets/js/23.98f77880.js" defer></script><script src="/assets/js/2.5511de28.js" defer></script><script src="/assets/js/10.93173d2d.js" defer></script><script src="/assets/js/30.ceffa3ae.js" defer></script><script src="/assets/js/29.6bb21054.js" defer></script><script src="/assets/js/41.a1cbfaa2.js" defer></script>
  </body>
</html>
