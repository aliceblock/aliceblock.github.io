(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{625:function(t,s,a){t.exports=a.p+"assets/img/00.9783260b.jpg"},626:function(t,s){t.exports="data:image/png;base64,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"},627:function(t,s,a){t.exports=a.p+"assets/img/02.e6f2824b.png"},628:function(t,s,a){t.exports=a.p+"assets/img/03.12f4f318.png"},629:function(t,s,a){t.exports=a.p+"assets/img/04.5ceaa55f.png"},630:function(t,s,a){t.exports=a.p+"assets/img/05.f30d141e.png"},631:function(t,s,a){t.exports=a.p+"assets/img/06.331c27bd.png"},632:function(t,s,a){t.exports=a.p+"assets/img/07.f77410ba.png"},633:function(t,s,a){t.exports=a.p+"assets/img/08.a7c59608.png"},634:function(t,s,a){t.exports=a.p+"assets/img/09.35f58aad.png"},635:function(t,s,a){t.exports=a.p+"assets/img/10.ae17ced8.png"},636:function(t,s,a){t.exports=a.p+"assets/img/11.df9d5887.png"},743:function(t,s,a){"use strict";a.r(s);var n=a(47),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"ใช้-nestjs-ต่อ-database-อย่างไร"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ใช้-nestjs-ต่อ-database-อย่างไร"}},[t._v("#")]),t._v(" ใช้ NestJS ต่อ Database อย่างไร?")]),t._v(" "),n("TagList",{attrs:{tags:t.$frontmatter.tags}}),t._v(" "),n("p",[t._v("เหมือนจะยากแต่ก็ไม่ยากอย่างที่คิด ในการต่อ Database นั้น ทางเลือกหลักๆที่เรามีก็ คือ Query เอาเอง หรือในบทความนี้ที่ผมจะมาใช้ TypeORM กันครับ")]),t._v(" "),n("p",[t._v("เจ้าตัว TypeORM เป็น Library สำหรับทำ ORM (Object Relational Mapping) ข้อดีสั้นๆก็คือเราไม่ต้องเขียน Query เองเลย")]),t._v(" "),n("img",{attrs:{src:a(625),alt:"Header"}}),n("p",[t._v("เราสามารถ SELECT, INSERT, DELETE, UPDATE ได้โดย Map Entity (Class แสดงหน้าตาข้อมูล) กับ Database")]),t._v(" "),n("h2",{attrs:{id:"ติดตั้ง"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ติดตั้ง"}},[t._v("#")]),t._v(" ติดตั้ง")]),t._v(" "),n("h3",{attrs:{id:"สร้างโปรเจค"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#สร้างโปรเจค"}},[t._v("#")]),t._v(" สร้างโปรเจค")]),t._v(" "),n("p",[t._v("ผ่านคำสั่ง")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("nest new sample-orm\n")])])]),n("h3",{attrs:{id:"ติดตั้ง-library-ที่จะใช้"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ติดตั้ง-library-ที่จะใช้"}},[t._v("#")]),t._v(" ติดตั้ง Library ที่จะใช้")]),t._v(" "),n("p",[t._v("หลักๆก็จะมี")]),t._v(" "),n("ul",[n("li",[t._v("@nestjs/typeorm")]),t._v(" "),n("li",[t._v("typeorm")]),t._v(" "),n("li",[t._v("sqlite3 (ใช้ตัวนี้เพราะขี้เกียจติดตั้ง MySQL 🤣)")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" @nestjs/typeorm typeorm sqlite3\n")])])]),n("p",[t._v("ห้องต้องการต่อกับ Database ตัวอื่นก็แค่เปลี่ยน sqlite3 ซะ เช่น mysql, postgresql เป็นต้น")]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("div",{staticClass:"force-max",staticStyle:{"max-width":"50%"}},[n("img",{attrs:{src:a(626),alt:"Image"}})])]),t._v(" "),n("h3",{attrs:{id:"ติดตั้งโปรแกรมอ่าน-database"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ติดตั้งโปรแกรมอ่าน-database"}},[t._v("#")]),t._v(" ติดตั้งโปรแกรมอ่าน Database")]),t._v(" "),n("p",[t._v("ในที่นี้ผมจะใช้ SQLite Studio ครับ "),n("a",{attrs:{href:"https://github.com/pawelsalawa/sqlitestudio/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Download"),n("OutboundLink")],1),n("br"),t._v("\nใช้เพื่อดูฐานข้อมูล SQLite ใครมีตัวเลือกสะดวกกว่านี้ก็ใช้ได้ครับ")]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("div",{staticClass:"force-max",staticStyle:{"max-width":"50%"}},[n("img",{attrs:{src:a(627),alt:"Image"}})])]),t._v(" "),n("h3",{attrs:{id:"ติดตั้ง-postman"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ติดตั้ง-postman"}},[t._v("#")]),t._v(" ติดตั้ง Postman")]),t._v(" "),n("p",[t._v("Postman นั้นเป็นอีกหนึ่งในโปรแกรมยอดนิยมเลยครับใช้ในการทดสอบ Request ได้อย่างง่ายๆ "),n("a",{attrs:{href:"https://www.postman.com/downloads/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Download"),n("OutboundLink")],1),n("br"),t._v("\nหากใช้ไม่เป็น อาจจะลองอ่านจาก "),n("a",{attrs:{href:"https://medium.com/@nest12345/%E0%B8%A1%E0%B8%B2%E0%B8%97%E0%B8%94%E0%B8%AA%E0%B8%AD%E0%B8%9A-api-%E0%B8%94%E0%B9%89%E0%B8%A7%E0%B8%A2-postman-%E0%B8%81%E0%B8%B1%E0%B8%99%E0%B9%80%E0%B8%96%E0%B8%AD%E0%B8%B0-c750a09c86ce",target:"_blank",rel:"noopener noreferrer"}},[t._v("ที่นี่"),n("OutboundLink")],1)]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("div",{staticClass:"force-max",staticStyle:{"max-width":"50%"}},[n("img",{attrs:{src:a(628),alt:"Image"}})])]),t._v(" "),n("h2",{attrs:{id:"มาเริ่มโค้ดกันเลย"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#มาเริ่มโค้ดกันเลย"}},[t._v("#")]),t._v(" มาเริ่มโค้ดกันเลย")]),t._v(" "),n("p",[t._v("สิ่งที่เราจะทำหลักๆเลยมีประมาณนี้ครับ")]),t._v(" "),n("ol",[n("li",[t._v("ตั้งค่า TypeORM")]),t._v(" "),n("li",[t._v("สร้าง Module ใหม่")]),t._v(" "),n("li",[t._v("สร้าง Entity")]),t._v(" "),n("li",[t._v("ประกอบร่าง")]),t._v(" "),n("li",[t._v("ลองเขียน Service แล้วเรียกดู")])]),t._v(" "),n("h3",{attrs:{id:"ตั้งค่า-typeorm-กันก่อน"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ตั้งค่า-typeorm-กันก่อน"}},[t._v("#")]),t._v(" ตั้งค่า TypeORM กันก่อน")]),t._v(" "),n("p",[t._v("ง่ายๆเลยแค่เพิ่ม TypeOrmModule เข้าไปที่"),n("br"),t._v(" "),n("code",[t._v("src/app.module.ts")])]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TypeOrmModule "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/typeorm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    TypeOrmModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sqlite'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      database"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app.sqlite'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      entities"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      synchronize"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"tip custom-block"},[n("p",[t._v("เนื่องจาก "),n("code",[t._v("app.controller.ts")]),t._v(" และ "),n("code",[t._v("app.service.ts")]),t._v(" ไม่ได้ใช้ ผมจึงทำการลบออกไปเลยครับ")])]),t._v(" "),n("p",[t._v("จากโค้ดด้านบนเราได้ทำการตั้งค่า TypeORM ให้เชื่อมต่อ Database SQLite โดยที่ไฟล์ Database ของเราจะเป็นไฟล์ "),n("code",[t._v("app.sqlite")])]),t._v(" "),n("p",[t._v("ในส่วนของ "),n("strong",[t._v("entities")]),t._v(" นั้น เมื่อเราสร้างเสร็จแล้วเราจะเอามาใส่ครับ")]),t._v(" "),n("p",[t._v("สุดท้าย "),n("strong",[t._v("synchronize")]),t._v(" เราใส่เพื่อให้มันปรับ Table ใน Database ตาม Entity ของเรา (ด้วยความขี้เกียจ)")]),t._v(" "),n("div",{staticClass:"warning custom-block"},[n("p",[t._v("ข้อควรระวังในการใช้ "),n("strong",[t._v("synchronize")]),t._v(" ก็คือ อย่าใช้ใน Production หรือโค้ดบนระบบจริง อาจจะทำให้ข้อมูลเสียหายได้")])]),t._v(" "),n("h3",{attrs:{id:"module-ใหม่"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#module-ใหม่"}},[t._v("#")]),t._v(" Module ใหม่")]),t._v(" "),n("p",[t._v("ผมจะสร้าง Module ใหม่มาจัดการข้อมูล Album ของผมกันครับ")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("nest g module albums\nnest g controller albums\nnest g "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" albums\n")])])]),n("div",{staticClass:"tip custom-block"},[n("p",[t._v("ไฟล์ "),n("code",[t._v("*.spec.ts")]),t._v(" ลบทิ้งไปก่อนก็ได้ครับ เนื่องจากเราจะยังไม่ทำ Testing กันในบทความนี้")])]),t._v(" "),n("h3",{attrs:{id:"สร้าง-entity"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#สร้าง-entity"}},[t._v("#")]),t._v(" สร้าง Entity")]),t._v(" "),n("p",[t._v("ทดลองสร้างแบบยังไม่ได้กำหนดว่าจะใช้กับ TypeORM จะได้แบบนี้ครับ\n"),n("code",[t._v("src/albums/entity/album.entity.ts")])]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Album")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  remark"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("และถ้าเราจะใช้กับ TypeORM เราก็แค่เพิ่ม")]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("div",{staticClass:"highlight-lines"},[n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Column"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PrimaryGeneratedColumn "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'typeorm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Entity")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Album")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("PrimaryGeneratedColumn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Column")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" length"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  remark"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("@Entity")]),t._v(" เป็นการกำหนดว่า class นี้จะเป็น TypeORM Entity")]),t._v(" "),n("p",[n("strong",[t._v("@PrimaryGeneratedColumn")]),t._v(" กำหนดให้ Field หรือ Column นี้เป็น Primary และมี Auto Increment (ถ้าไม่กำหนดค่าตอน Insert มันจะเพิ่มค่าให้เอง)")]),t._v(" "),n("p",[n("strong",[t._v("@Column")]),t._v(" กำหนดให้เป็น Field หรือ Column ทั่วๆไป (โดยเราจะกำหนดค่า default, length, nullable ได้ด้วยถ้าต้องการ)")]),t._v(" "),n("h3",{attrs:{id:"เอา-entity-ไปใช้"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#เอา-entity-ไปใช้"}},[t._v("#")]),t._v(" เอา Entity ไปใช้")]),t._v(" "),n("p",[t._v("เมื่อเราได้ Entity มาแล้วเราจะเอากลับไปใส่ที่ "),n("code",[t._v("src/app.module.ts")])]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TypeOrmModule "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/typeorm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AlbumsModule "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./albums/albums.module'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Album "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./albums/entity/album.entity'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    TypeOrmModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forRoot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sqlite'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      database"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app.sqlite'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      entities"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      synchronize"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AlbumsModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("และที่ไหนที่ต้องการใช้ Entity นี้ (ในที่นี้คือที่ AlbumModule) ก็ต้องเพิ่มตามนี้ครับ\n"),n("code",[t._v("src/albums/albums.module.ts")])]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Module "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AlbumsController "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./albums.controller'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AlbumsService "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./albums.service'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TypeOrmModule "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/typeorm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Album "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./entity/album.entity'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("TypeOrmModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forFeature")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  controllers"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AlbumsController"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AlbumsService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AlbumsModule")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"เขียนส่วนของ-service"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#เขียนส่วนของ-service"}},[t._v("#")]),t._v(" เขียนส่วนของ Service")]),t._v(" "),n("p",[t._v("ตัว TypeOrmModule จะ Inject Repository มาให้เราใช้ด้วยครับ (Repository คือตัวกลางในการติดต่อกับ Datasource ซึ่งในที่นี้ก็คือ Database ของเรา)"),n("br"),t._v("\nเราสามารถทำตามนี้ได้เลย\n"),n("code",[t._v("src/albums/album.service.ts")])]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" InjectRepository "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/typeorm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Repository "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'typeorm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Album "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./entity/album.entity'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Injectable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AlbumsService")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("InjectRepository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("readonly")]),t._v(" albumRepository"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Repository"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createOrUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("album"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" id "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("DeleteResult"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" id "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"เขียน-controller"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#เขียน-controller"}},[t._v("#")]),t._v(" เขียน Controller")]),t._v(" "),n("p",[n("code",[t._v("src/albums/album.controller.ts")])]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Controller"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Param"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  HttpStatus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  HttpCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nestjs/common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AlbumsService "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./albums.service'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CreateAlbumDto "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dto/create-album.dto'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Album "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./entity/album.entity'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Controller")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'albums'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AlbumsController")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("readonly")]),t._v(" albumService"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" AlbumsService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// POST /albums")]),t._v("\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("HttpCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HttpStatus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CREATED")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createAlbum")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" newAlbum"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateAlbumDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" album "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Album")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newAlbum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remark "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newAlbum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createOrUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// GET /albums")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAlbums")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// GET /albums/123")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findAlbum")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// PUT /albums/123")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAlbum")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" createAlbumDto"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" CreateAlbumDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Album"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" album "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" createAlbumDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remark "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" createAlbumDto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createOrUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("album"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DELETE /albums/123")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteAlbum")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" success"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("โดย CreateAlbumDto เป็นตัวแทนข้อมูลที่รับมาจากผู้เรียกใช้งาน มีหน้าตาแบบนี้"),n("br"),t._v(" "),n("code",[t._v("src/albums/dto/create-album.dto.ts")])]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateAlbumDto")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  remark"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"warning custom-block"},[n("p",[t._v("โค้ดเบื้องต้นไม่มีการดัก Error อะไรทั้งนั้นนะครับด้วยความขี้เกียจ")])]),t._v(" "),n("h2",{attrs:{id:"ทดลองที่เขียน"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ทดลองที่เขียน"}},[t._v("#")]),t._v(" ทดลองที่เขียน")]),t._v(" "),n("p",[t._v("ลองสั่งเริ่มโปรแกรมดูครับ "),n("code",[t._v("npm run start:debug")])]),t._v(" "),n("p",[t._v("เมื่อรันแล้วจะพบไฟล์ "),n("code",[t._v("app.sqlite")]),t._v(" ลองเอามาเปิดดูใน SQLite Studio ก็จะพบกับตารางข้อมูล album ของเราโดยมีโครงสร้างข้อมูลแบบนี้")]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(629),alt:"Image"}})]),t._v(" "),n("p",[t._v("ลองใช้ Postman ยิง Post Request เพื่อสร้าง Album ดูครับ")]),t._v(" "),n("p",[n("code",[t._v("POST localhost:3000/albums")])]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(630),alt:"Image"}}),t._v(" "),n("div",{staticClass:"caption"},[t._v("แค่นี้เองก็ได้ Album แล้ว")])]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(631),alt:"Image"}}),t._v(" "),n("div",{staticClass:"caption"},[t._v("ลองสร้างอีกอัน")])]),t._v(" "),n("p",[t._v("ถ้าจะเอาข้อมูล Album ทั้งหมดก็แค่"),n("br"),t._v(" "),n("code",[t._v("GET localhost:3000/albums")])]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(632),alt:"Image"}}),t._v(" "),n("div",{staticClass:"caption"},[t._v("ได้ข้อมูลละ")])]),t._v(" "),n("p",[t._v("ถ้าต้องการแค่ตัวเดียวล่ะ"),n("br"),t._v(" "),n("code",[t._v("GET localhost:3000/albums/1")])]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(633),alt:"Image"}}),t._v(" "),n("div",{staticClass:"caption"},[t._v("ก็ได้มาเหมือนกัน")])]),t._v(" "),n("p",[t._v("ลองอัปเดตข้อมูลบ้าง"),n("br"),t._v(" "),n("code",[t._v("PUT localhost:3000/albums/1")])]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(634),alt:"Image"}})]),t._v(" "),n("p",[t._v("ลบบ้าง"),n("br"),t._v(" "),n("code",[t._v("DELETE localhost:3000/albums/1")])]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(635),alt:"Image"}})]),t._v(" "),n("p",[t._v("สร้างๆลบๆข้อมูลเล่น ข้อมูลเข้าจริงไหมนะ")]),t._v(" "),n("center",{staticClass:"medium-zoom"},[n("img",{attrs:{src:a(636),alt:"Image"}}),t._v(" "),n("div",{staticClass:"caption"},[t._v("เย่ มีข้อมูลจริงๆนะ")])]),t._v(" "),n("p",[t._v("ใครมีข้อสงสัยข้อแนะนำอะไรแนะนำได้ครับ"),n("br"),t._v("\nดาวน์โหลด Source Code "),n("a",{attrs:{href:"https://github.com/aliceblock/sample-orm.git",target:"_blank",rel:"noopener noreferrer"}},[t._v("ที่นี่"),n("OutboundLink")],1)]),t._v(" "),n("hr")],1)}),[],!1,null,null,null);s.default=r.exports}}]);